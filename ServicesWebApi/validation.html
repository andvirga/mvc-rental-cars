<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Comments Test Home Page</title>
    <link href="/Content/Demo.css" rel="stylesheet" type="text/css" />
    <script src="Scripts/knockout-3.4.0.js"></script>
    <script src="Scripts/jquery-1.10.2.js"></script>
    <script src="Scripts/jquery.validate.js"></script>
    <script src="Scripts/jquery.validate.unobtrusive.js"></script>

    <script src="Scripts/demo4/get.js"></script>
    <script src="Scripts/demo4/post.js"></script>
    <script src="Scripts/demo4/delete.js"></script>
</head>
<body>
    <nav>
        <div class="demo-navigation">
            <a href="demo3-paging.htm">&lt;&lt;&lt; Back</a>
            | Demo 4 Validation |
            <a href="demo5-authorization.htm">On to Demo 5 - Authorization &gt;&gt;&gt;</a>
        </div>
    </nav>
    <div id="content">

        <div id="article">
            <p>
                In this demo, we take advantage of the unobtrusive client validation introduced in
                ASP.NET MVC and apply it to a static HTML page.
            </p>
            <p>
                Once you pass the client validation rules, note that we also support validation
                happening on the server. If there are any validation errors, we serialize the
                model state to JSON and apply the validation back on the client.
            </p>
            <p>
                <strong>
                    After submitting a valid comment, try typing in an author that's more
                    than 10 characters long.
                </strong>
            </p>
        </div>
        <ul data-bind="template: {name: 'clientTemplate', foreach: clients}"></ul>
        <form id="newClientForm">
            <fieldset>
                <legend>New Client</legend>
                <label for="text">Client</label>
                <label for="lastName">LastName</label>
                <input id="LastName" name="LastName" type="text" data-val="true" data-val-required="Tell us who you are." value="" />
                <span class="field-validation-valid" data-valmsg-for="LastName" data-valmsg-replace="true"></span>

                <label for="firstName">FirstName</label>
                <input id="FirstName" name="FirstName" type="text" data-val="true" data-val-required="Tell us who you are." value="" />
                <span class="field-validation-valid" data-valmsg-for="FirstName" data-valmsg-replace="true"></span>

                <label for="email">Email</label>
                <input id="email" name="email" type="text" data-val="true" data-val-required="What's your email address?" value="" />
                <span class="field-validation-valid" data-valmsg-for="email" data-valmsg-replace="true"></span>
                <button type="submit">Submit</button>
            </fieldset>
        </form>

        <script id="clientTemplate" type="text/html">
            <li class="client">
                <header>
                    <div class="info">
                        <strong><span data-bind="text: LastName"></span></strong>
                        <strong><span data-bind="text: FirstName"></span></strong>
                    </div>
                    <div class="actions">
                        <a class="delete" data-bind="attr: { 'data-client-id': ClientID }" href="#">Delete Id: <span data-bind="text: ClientID" /></a>
                    </div>
                </header>
                <div class="body">
                    <p data-bind="text: Email"></p>
                </div>
            </li>
        </script>
        <script type="text/javascript">
            viewModel = {
                clients: ko.observableArray([])
            };

            ko.applyBindings(viewModel);
        </script>
    </div>
</body>
</html>
